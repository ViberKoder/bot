# Настройка постоянного хранения данных

## Проблема
По умолчанию данные сохраняются в рабочую директорию, которая может быть временной на Railway. После перезапуска/обновления данные могут теряться.

## Решение

### Вариант 1: Использование переменной окружения DATA_FILE_PATH (Рекомендуется)

1. В настройках проекта на Railway добавьте переменную окружения:
   - **Имя**: `DATA_FILE_PATH`
   - **Значение**: `/data/bot_data.json` (или другой путь к постоянному хранилищу)

2. Убедитесь, что директория `/data` существует и доступна для записи

### Вариант 2: Использование Volume на Railway

1. В настройках проекта Railway:
   - Перейдите в раздел "Volumes"
   - Создайте новый volume (например, `/data`)
   - Подключите его к проекту

2. Добавьте переменную окружения:
   - **Имя**: `DATA_FILE_PATH`
   - **Значение**: `/data/bot_data.json`

### Вариант 3: Использование внешнего хранилища

Для production рекомендуется использовать базу данных (PostgreSQL, MongoDB и т.д.) вместо файлов.

## Проверка

После настройки проверьте логи бота при запуске:
- Должно быть сообщение: `Loading data from: /data/bot_data.json` (или ваш путь)
- Если файл существует, должно быть: `Loaded data: X users with points, Y referrers`

## Важно

⚠️ **Без настройки постоянного хранилища данные будут теряться при каждом обновлении/перезапуске!**
